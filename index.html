<!DOCTYPE html>
<html>
<head>
  <!-- Site made with Mobirise Website Builder v4.1.1, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.1.1, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="#" type="image/x-icon">
  <meta name="description" content="">
  <title>Forsale.id - invitation generator</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,500,500i,700,700i,900,900i">
  
  <!-- google font -->
	
	<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet">
  
  
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
  <link href="assets/fonts/style.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
</head>
<body>
<section class="mbr-section form1 cid-qsog9pUMSn" id="form1-3" data-rv-view="12">

    

    
    <div class="container">
        <div class="media-container-column title col-12 col-lg-8 offset-lg-2">
            <h2 class="mbr-section-title align-center pb-3 mbr-fonts-style display-2">
                STEP 1
            </h2>
            <h3 class="mbr-section-subtitle align-center mbr-light pb-3 mbr-fonts-style display-5">
                Input data
            </h3>
        </div>
    </div>

    <div class="container">
        <div class="media-container-column col-lg-8 offset-lg-2">

                <form class="mbr-form">
                    <div class="row row-sm-offset">
                        <div class="col-md-6 multi-horizontal" >
                            <div class="form-group">
                                <label class="form-control-label mbr-fonts-style display-7">Bride</label>
                                <input type="text" class="form-control buttonText bride" value="Ratna">
                            </div>
                        </div>
                        <div class="col-md-6 multi-horizontal" >
                            <div class="form-group">
                                <label class="form-control-label mbr-fonts-style display-7">Groom</label>
                                <input type="text" class="form-control buttonText groom" value="Galih">
                            </div>
                        </div>
                        <div class="col-md-6 multi-horizontal">
                            <div class="form-group">
                                <label class="form-control-label mbr-fonts-style display-7">Date</label>
                                <input type="text" class="form-control buttonText date" value="12-12-2012">
                            </div>
                        </div>
                        <div class="col-md-6 multi-horizontal">
                            <div class="form-group">
                                <label class="form-control-label mbr-fonts-style display-7">Time</label>
                                <input type="text" class="form-control buttonText time" value="13.00 WIB">
                            </div>
                        </div>
                        <div class="col-md-6 multi-horizontal">
                            <div class="form-group">
                                <label class="form-control-label mbr-fonts-style display-7">Location</label>
                                <input type="text" class="form-control buttonText location" value="Gedung Merdeka, Jl. kemenangan 99, Jakarta Utara">
                            </div>
                        </div>
                    </div>

                </form>
        </div>
    </div>
</section>

<section class="mbr-section content4 cid-qsomxW1Kpa" id="content4-6" data-rv-view="15">

    lue

    <div class="container">
        <div class="media-container-row">
            <div class="title col-12 col-md-8">
                <h2 class="align-center pb-3 mbr-fonts-style display-2">
                    STEP 2
                </h2>
                <h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
                    Preview
                </h3>
                
            </div>
        </div>
    </div>
</section>

<section class="header5 cid-qsou7IXsfw mbr-fullscreen" id="header5-9" data-rv-view="17">

    

    
    <div class="container">
        <div class="media-container-column mbr-white col-md-12">
            
            <canvas>
=======
	  </form>
	</div>
	<div class="container">
        <canvas class="img-responsive">
>>>>>>> origin/master
            <p>Your browser doesn't support the HTML5 canvas!</p>
            </canvas>
            
        </div>
    </div>

    
</section>

<section class="mbr-section content4 cid-qsomLMhVsT" id="content4-7" data-rv-view="20">

    

    <div class="container">
        <div class="media-container-row">
            <div class="title col-12 col-md-8">
                <h2 class="align-center pb-3 mbr-fonts-style display-2">
                    STEP 3
                </h2>
                <h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
                    Right-click > Save Image As... or
                </h3>
                <div class="mbr-section-btn align-center py-4">
                    <a class="btn btn-primary display-4 downloadButton" href="#">DOWNLOAD .PNG</a>
                </div>
            </div>
        </div>
    </div>
</section>


  <script src="assets/web/assets/jquery/jquery.min.js"></script>
  <script src="assets/tether/tether.min.js"></script>
  <script src="assets/bootstrap/js/bootstrap.min.js"></script>
  <script src="assets/smooth-scroll/smooth-scroll.js"></script>
  <script src="assets/theme/js/script.js"></script>
  
  <div class="ie" style="visibility:hidden">
            <strong>Internet Explorer and Edge can not save HTML5 canvas as an image. Use the snipping tool and do it manually, Right-click Save Image As....</strong>
        </div>
        <script>
            if(document.documentMode || /Edge/.test(navigator.userAgent)){
                document.querySelector('.ie').style.visibility = 'visible';
            }
        </script>
  
  
  <div style="display: none;">
        <img class="template" src="assets/images/template.png">
  </div>
  
  
     <script>
        'use strict';

        var canvas = document.querySelector('canvas');
        var ctx = canvas.getContext('2d');
        var templateImage = document.querySelector('img.template');
        var downloadButton = document.querySelector('.downloadButton');
        var buttonTextBride = document.querySelector('.buttonText.bride');
        var buttonTextGroom = document.querySelector('.buttonText.groom');
        var buttonTextDate = document.querySelector('.buttonText.date');
        var buttonTextTime = document.querySelector('.buttonText.time');
        var buttonTextLocation = document.querySelector('.buttonText.location');

        var brideText = {
            size: 78,
            rotation: -13,
            width: 0.65,
            x: 0.45,
            y: 0.50
        };

        var groomText = {
            size: 78,
            rotation: -13,
            width: 0.65,
            x: 0.45,
            y: 0.60
        };
		
		var dateText = {
            size: 30,
            width: 0.65,
            x: 0.45,
            y: 0.70
        };

        var timeText = {
            size: 30,
            width: 0.65,
            x: 0.58,
            y: 0.70
        };
		
		var locationText = {
            size: 20,
            width: 0.65,
            x: 0.50,
            y: 0.75
        };

        templateImage.onload = function(){
            document.querySelector('.container').style.width = templateImage.width + 'px';
            canvas.width = templateImage.width;
            canvas.height = templateImage.height;
            draw();
        };

        downloadButton.addEventListener('click', function(e){
            var combinedString = '';
            [buttonTextBride.value, buttonTextGroom.value, buttonTextDate.value, buttonTextTime.value, buttonTextLocation.value].forEach(function(v){
                combinedString += String(v).replace(/\s/g, '');
            });
            var dataUrl = canvas.toDataURL('image/png');
            downloadButton.download = 'forsaleID-'+combinedString;
            downloadButton.href = canvas.toDataURL('image/png');
        });

        [buttonTextBride, buttonTextGroom, buttonTextDate, buttonTextTime, buttonTextLocation].forEach(function(v){
            v.addEventListener('input', function(e){
                draw();
            });
        });

        var draw = function(){
            ctx.drawImage(templateImage, 0, 0);
            ctx.textAlign = "center";

            // bride text
            ctx.font = brideText.size+"px pacifico";
            ctx.save();
            ctx.rotate(brideText.rotation * Math.PI/180);
            ctx.wrapText(buttonTextBride.value, canvas.width * brideText.x, canvas.height * brideText.y, canvas.width * brideText.width, brideText.size);
            ctx.restore();
            
            // groom text
            ctx.font = groomText.size+"px pacifico";
            ctx.save();
            ctx.rotate(groomText.rotation * Math.PI/180);
            ctx.wrapText(buttonTextGroom.value, canvas.width * groomText.x, canvas.height * groomText.y, canvas.width * groomText.width, groomText.size);
            ctx.restore();
			
            // date text
            ctx.font = dateText.size+"px impact";
            ctx.save();
            ctx.rotate(dateText.rotation * Math.PI/180);
            ctx.wrapText(buttonTextDate.value, canvas.width * dateText.x, canvas.height * dateText.y, canvas.width * dateText.width, dateText.size);
            ctx.restore();
            
            // time text
            ctx.font = timeText.size+"px impact";
            ctx.save();
            ctx.rotate(timeText.rotation * Math.PI/180);
            ctx.wrapText(buttonTextTime.value, canvas.width * timeText.x, canvas.height * timeText.y, canvas.width * timeText.width, timeText.size);
            ctx.restore();
            
            // location text
            ctx.font = locationText.size+"px impact";
            ctx.save();
            ctx.rotate(locationText.rotation * Math.PI/180);
            ctx.wrapText(buttonTextLocation.value, canvas.width * locationText.x, canvas.height * locationText.y, canvas.width * locationText.width, locationText.size);
            ctx.restore();
			
        };

        // multi line canvas text
        // http://stackoverflow.com/a/17777674
        CanvasRenderingContext2D.prototype.wrapText = function (text, x, y, maxWidth, lineHeight) {
            var lines = text.split("\n");
            for (var i = 0; i < lines.length; i++) {
                var words = lines[i].split(' ');
                var line = '';
                for (var n = 0; n < words.length; n++) {
                    var testLine = line + words[n] + ' ';
                    var metrics = this.measureText(testLine);
                    var testWidth = metrics.width;
                    if (testWidth > maxWidth && n > 0) {
                        this.fillText(line, x, y);
                        line = words[n] + ' ';
                        y += lineHeight;
                    }
                    else {
                        line = testLine;
                    }
                }
                this.fillText(line, x, y);
                y += lineHeight;
            }
        };
    </script>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-53967317-4', 'auto');
    ga('send', 'pageview');

    </script>
  
</body>
</html>
