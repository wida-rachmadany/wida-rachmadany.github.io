<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Undangan Pernikahan Pernikahan Digital adalah undangan berbetuk digital. Tamu bisa melihat undangan digital berbentuk website, .PNG atau Video melalui PC, Laptop, Tablet dan Smartphone. Penyebaran Undangan bisa melalui media sosial dan aplikai chat." />
    <!-- google font -->
    <link href="https://fonts.googleapis.com/css?family=Parisienne" rel="stylesheet" />
	<link href="https://fonts.googleapis.com/css?family=Fjalla+One" rel="stylesheet">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Free undangan digital ForSale.id</title>

    <style>
        /*
		Importing fonts
		*/
        
        @import 'https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i';
        canvas {
            max-height: 500px;
            max-width: 1000px;
            width: 100%;
            height: 100%;
        }
        
        #banner_background {
            z-index: 0;
        }
        
        #banner {
            z-index: 1;
            display: none;
        }
		
		fieldset.border {
		border: solid 1px #DDD !important;
		padding: 0 10px 10px 10px;
		border-bottom: none;
		}

		legend.border {
		width:inherit; /* Or auto */
		padding:0 10px; /* To give a bit of padding on the left and right */
		border-bottom:none;
		}
		
    </style>

    <!-- Bootstrap -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" integrity="sha384-+ENW/yibaokMnme+vBLnHMphUYxHs34h9lpdbSLuAwGkOKFRl4C34WkjazBtb7eT" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <nav class="navbar navbar-default">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="http://www.forsale.id">ForSale.id</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Example row of columns -->
        <div class="row">
            <div class="col-md-4" style="height: 500px; overflow-y: scroll;">
				<form>
				<fieldset class="border">
				<legend class="border">Nama</legend>
                <div class="form-group">
                    <label>Pria</label>
                        <input class="form-control" type="text" id="banner_1" placeholder="Wida" />
                    <p class="help-block">Contoh: Wida</p>
                </div>
                <div class="form-group">
                    <label>Wanita</label>
                        <input class="form-control" type="text" id="banner_1A" placeholder="Ninik" />
                    <p class="help-block">Contoh: Ninik</p>
                </div>
				</fieldset>
				<fieldset class="border">
				<legend class="border">Akad</legend>
                <div class="form-group">
                    <label>Hari</label>
                        <input class="form-control" type="text" id="banner_2" placeholder="Sabtu" />
                    <p class="help-block">Contoh: Sabtu</p>
                </div>
				<div class="form-group">
                    <label>Tanggal</label>
                        <input class="form-control" type="text" id="banner_3" placeholder="26 Agustus 2017" />
                    <p class="help-block">Contoh: 26 Agustus 2017</p>
                </div>
				<div class="form-group">
                    <label>Pukul</label>
                        <input class="form-control" type="text" id="banner_4" placeholder="10.00 - SELESAI" />
                    <p class="help-block">Contoh: 10.00 - SELESAI</p>
                </div>
                <div class="form-group">
                    <label>Lokasi Resepsi</label>
                        <textarea class="form-control" placeholder="Textarea" id="banner_5"></textarea>
                    <p class="help-block">Contoh: Gedung Merdeka, Jl. Kebangsaan 99, Surabaya</p>
                </div>
				</fieldset>
				<fieldset class="border">
				<legend class="border">Resepsi</legend>
                <div class="form-group">
                    <label>Hari</label>
                        <input class="form-control" type="text" id="banner_6" placeholder="Sabtu" />
                    <p class="help-block">Contoh: Sabtu</p>
                </div>
				<div class="form-group">
                    <label>Tanggal</label>
                        <input class="form-control" type="text" id="banner_7" placeholder="26 Agustus 2017" />
                    <p class="help-block">Contoh: 26 Agustus 2017</p>
                </div>
				<div class="form-group">
                    <label>Pukul</label>
                        <input class="form-control" type="text" id="banner_8" placeholder="10.00 - SELESAI" />
                    <p class="help-block">Contoh: 10.00 - SELESAI</p>
                </div>
                <div class="form-group">
                    <label>Lokasi Resepsi</label>
                        <textarea class="form-control" placeholder="Textarea" id="banner_9"></textarea>
                    <p class="help-block">Contoh: Gedung Merdeka, Jl. Kebangsaan 99, Surabaya</p>
                </div>
				</fieldset>
				<fieldset class="border">
				<legend class="border">Submit</legend>
				<button type="button" class="btn btn-success" id="preview">Apply Text</button>
				<a id="download">
				<button type="button" class="btn btn-primary">Download</button></a>
				</fieldset>
				</form>
            </div>
            <div class="col-md-8">
                <canvas id="banner_background" height="853px" width="1280px"></canvas>
                <canvas id="banner" height="853px" width="1280px"></canvas>
            </div>
        </div>
    </div>

    <script>
        //lets set the maximum length for the headline.
        document.getElementById("banner_1").setAttribute("maxlength", "20");
        document.getElementById("banner_1A").setAttribute("maxlength", "20");
        document.getElementById("banner_2").setAttribute("maxlength", "7");
        document.getElementById("banner_3").setAttribute("maxlength", "17");
        document.getElementById("banner_4").setAttribute("maxlength", "21");
        document.getElementById("banner_5").setAttribute("maxlength", "45");
        document.getElementById("banner_6").setAttribute("maxlength", "7");
        document.getElementById("banner_7").setAttribute("maxlength", "17");
        document.getElementById("banner_8").setAttribute("maxlength", "21");
        document.getElementById("banner_9").setAttribute("maxlength", "45");
        //now taking care of the canvases. firstly the background layer;
        var background = document.getElementById("banner_background");
        background_ctx = background.getContext("2d");
        //now the text layer;
        var textLayer = document.getElementById("banner");
        textLayer_ctx = textLayer.getContext("2d");
        //lets create an image element;
        var backgroundImage = new Image(background.width, background.height);
        backgroundImage.src = 'vintage-boards-1557993_1280_1.jpg';
        //function that generates the banner preview from user input text;
        function previewBanner() {
            background_ctx.clearRect(0, 0, background.width, background.height); //      Clearing both layers
            textLayer_ctx.clearRect(0, 0, textLayer.width, textLayer.height); //           before preview
            background_ctx.drawImage(backgroundImage, 0, 0, background.width, background.height);
            textLayer_ctx.textAlign = "center";
			textLayer_ctx.fillStyle = "#ffffff";
            textLayer_ctx.font = "300 600% Parisienne";
            textLayer_ctx.fillText(document.getElementById("banner_1").value, textLayer.width / 2.25, textLayer.height / 3.25);
            textLayer_ctx.font = "300 600% Parisienne";
            textLayer_ctx.fillText(document.getElementById("banner_1A").value, textLayer.width / 1.7, textLayer.height / 2.3);
            textLayer_ctx.font = "300 500% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_2").value, textLayer.width / 3.5, textLayer.height / 1.55);
            textLayer_ctx.font = "300 300% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_3").value, textLayer.width / 3.5, textLayer.height / 1.4);
            textLayer_ctx.font = "300 300% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_4").value, textLayer.width / 3.5, textLayer.height / 1.28);
            textLayer_ctx.font = "300 200% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_5").value, textLayer.width / 3.5, textLayer.height / 1.2);
            textLayer_ctx.font = "300 500% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_6").value, textLayer.width / 1.375, textLayer.height / 1.55);
            textLayer_ctx.font = "300 300% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_7").value, textLayer.width / 1.375, textLayer.height / 1.4);
            textLayer_ctx.font = "300 300% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_8").value, textLayer.width / 1.375, textLayer.height / 1.28);
            textLayer_ctx.font = "300 200% Fjalla One";
            textLayer_ctx.fillText(document.getElementById("banner_9").value, textLayer.width / 1.375, textLayer.height / 1.2);
            //now drwaing the textLayer canvas into the background canvas
            background_ctx.drawImage(textLayer, 0, 0, background.width, background.height);
        }
        //Will it look good to lead the canvas totally white? Nope, show some default banner background;
        window.addEventListener("load", function() {
            background_ctx.drawImage(backgroundImage, 0, 0, background.width, background.height);
        });
        //Calling the friendly previewBanner function;
        var preview = document.getElementById("preview");
        preview.addEventListener("click", previewBanner);

        //function that downloads the previously generated banner;
        function downloadImage(link, canvasID, fileName) {
            link.href = canvasID.toDataURL('image/png' + '==');
            link.download = fileName;
        }

        var downloadButton = document.getElementById("download");
        downloadButton.addEventListener("click", function() {
            previewBanner(); //downloading gets the exact current state by this;
            downloadImage(this, background, "forsaleID-digital-invitation.png");
        });
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>

</html>
